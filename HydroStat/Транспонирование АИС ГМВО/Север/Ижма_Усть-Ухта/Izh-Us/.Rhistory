devtools::install_github("tsamsonov/grwat")
remove.packages("curl", lib="~/R/win-library/3.6")
devtools::install_github("tsamsonov/grwat")
install.packages("curl")
devtools::install_github("tsamsonov/grwat")
library(grwat)
remove.packages("grwat", lib="~/R/win-library/3.6")
devtools::install_github("tsamsonov/grwat")
devtools::install_github("tsamsonov/grwat")
devtools::install_github("tsamsonov/grwat")
library(devtools)
assignInNamespace("version_info", c(devtools:::version_info, list("3.5" = list(version_min = "3.3.0", version_max = "99.99.99", path = "bin"))), "devtools")
devtools::install_github("tsamsonov/grwat")
install.packages("devtools")
library(devtools)
assignInNamespace("version_info", c(devtools:::version_info, list("3.5" = list(version_min = "3.3.0", version_max = "99.99.99", path = "bin"))), "devtools")
devtools::install_github("tsamsonov/grwat")
install.packages("devtools")
library(devtools)
assignInNamespace("version_info", c(devtools:::version_info, list("3.5" = list(version_min = "3.3.0", version_max = "99.99.99", path = "bin"))), "devtools")
devtools::install_github("tsamsonov/grwat")
f <- read.delim('Izhma_Ust-Ukhta/izhm.txt', header = F)
View(f)
8%%2
5%%2
2000%%4
View(f)
View(f)
x <- list(f$V4[1]:f$V4[31], f$V5[1]:f$V5[29])
View(x)
View(f)
View(x)
x <- data.frame(f$V4[1]:f$V4[31], f$V5[1]:f$V5[29])
View(x)
f$V4[1]:f$V4[31]
f <- as.numeric(f)
f <- read.delim('Izhma_Ust-Ukhta/izhm.txt', header = F)
f <- as.numeric(f)
for (i in 1:nrow(f)) {
for (j in 4:ncol(f)) {
f[i,j] <- as.numeric(f[i,j])
}
}
View(f)
f <- read.delim('Izhma_Ust-Ukhta/izhm.txt', header = F, colClasses = 'numeric')
View(f)
f <- read.delim('Izhma_Ust-Ukhta/izhm.txt', header = F, colClasses = 'numeric')
f <- read.delim('Izhma_Ust-Ukhta/izhm.txt', header = F)
View(f)
library(readr)
f <- read_tsv('Izhma_Ust-Ukhta/izhm.txt')
View(f)
f <- read_delim('Izhma_Ust-Ukhta/izhm.txt', col_names = F)
f <- read_tsv('Izhma_Ust-Ukhta/izhm.txt', col_names = F)
View(f)
library(tidyverse)
warnings()
f <- read.delim('Izhma_Ust-Ukhta/izhm.txt')
View(f)
f <- read.xlsx('Izhma_Ust-Ukhta/izhm.txt')
library(openxlsx)
f <- read.xlsx('Izhma_Ust-Ukhta/izhm.txt')
f <- read.xlsx('Izhma_Ust-Ukhta/izhm.xlsx')
View(f)
f <- read.xlsx('Izhma_Ust-Ukhta/izhm.xlsx', colNames = F)
View(f)
x <- data.frame(f$V4[1]:f$V4[31], f$V5[1]:f$V5[29])
x <- data.frame(f$X4[1]:f$X4[31], f$X5[1]:f$X5[29])
x <- data.frame(f$X4[1]:f$X4[31], f$X5[1]:f$X5[28])
View(f)
View(x)
x <- c(2,6,7,89)
b <- c(4,7,5,2)
g <- data.frame(x,b)
View(g)
g <- data.frame(x,b)
s <- unlist(g)
View(g)
g <- data.frame(x,b)
x <- c(2,6,7,89,8)
b <- c(4,7,5,2)
g <- data.frame(x,b)
g <- list(x,b)
s <- unlist(g)
x <- f$X4[i:i+31]
x <- f$X4[1:31]
i=1
x <- f$X4[i:i+31]
x <- f$X4[i:31]
x <- f$X4[i:(i+31)]
x <- f$X4[i:(i+31)]
x <- c(x,b)
x <- vector()
b <- c(4,7,5,2)
x <- c(x,b)
runof <- vector()
setwd(wd)
f <- read.xlsx('Izhma_Ust-Ukhta/izhm.xlsx', colNames = F)
wd = "C:/Users/1/Desktop/Арктика"
setwd(wd)
f <- read.xlsx('Izhma_Ust-Ukhta/izhm.xlsx', colNames = F)
runof <- vector()
for (i in 1:nrow(f)) {
if (f$X3[i]==1) {
if (f$X2[i]%%4==0) {
a <- list(f$X4[i:(i+30)],f$X5[i:(i+28)],f$X6[i:(i+30)],f$X7[i:(i+29)],f$X8[i:(i+30)],
f$X9[i:(i+29)],f$X10[i:(i+30)],f$X11[i:(i+30)],f$X12[i:(i+29)],f$X13[i:(i+30)],
f$X14[i:(i+29)],f$X15[i:(i+30)])
} else {
a <- list(f$X4[i:(i+30)],f$X5[i:(i+27)],f$X6[i:(i+30)],f$X7[i:(i+29)],f$X8[i:(i+30)],
f$X9[i:(i+29)],f$X10[i:(i+30)],f$X11[i:(i+30)],f$X12[i:(i+29)],f$X13[i:(i+30)],
f$X14[i:(i+29)],f$X15[i:(i+30)])
}
una <- unlist(a)
runof <- c(runof, una)
}
}
View(f)
write.xlsx(runof,'Izhma_Ust-Ukhta/izhm1.xlsx')
View(f)
f <- read.xlsx('Izhma_Ust-Ukhta/izhm.xlsx', colNames = F)
runof <- vector()
for (i in 1:nrow(f)) {
if (f$X3[i]==1) {
if (f$X2[i]%%4==0) {
a <- list(f$X4[i:(i+30)],f$X5[i:(i+28)],f$X6[i:(i+30)],f$X7[i:(i+29)],f$X8[i:(i+30)],
f$X9[i:(i+29)],f$X10[i:(i+30)],f$X11[i:(i+30)],f$X12[i:(i+29)],f$X13[i:(i+30)],
f$X14[i:(i+29)],f$X15[i:(i+30)])
} else {
a <- list(f$X4[i:(i+30)],f$X5[i:(i+27)],f$X6[i:(i+30)],f$X7[i:(i+29)],f$X8[i:(i+30)],
f$X9[i:(i+29)],f$X10[i:(i+30)],f$X11[i:(i+30)],f$X12[i:(i+29)],f$X13[i:(i+30)],
f$X14[i:(i+29)],f$X15[i:(i+30)])
}
una <- unlist(a)
runof <- c(runof, una)
}
}
write.xlsx(runof,'Izhma_Ust-Ukhta/izhm1.xlsx')
wd = "C:/Users/1/Desktop/Арктика/Vym_Veslyana"
setwd(wd)
library(sf)
library(grwat)
wd = "C:/Users/1/Desktop/Арктика/Vym_Veslyana"
setwd(wd)
hdata = read.delim2('vym1.txt',
header = FALSE) # read gauge data
hdata = read.delim2('vym1.txt',
header = FALSE) # read gauge data
View(hdata)
library(sf)
library(grwat)
rean = grwat::read_interim('C:/Users/1/Desktop/ГИДРОЛОГИЯ ВСЯКОЕ/Реанализ ЕТР/pre_.nc', 'C:/Users/1/Desktop/ГИДРОЛОГИЯ ВСЯКОЕ/Реанализ ЕТР/temp_.nc')
wd = "C:/Users/1/Desktop/Арктика/Vym_Veslyana"
setwd(wd)
hdata = read.delim2('vym1.txt',
header = FALSE) # read gauge data
basin = st_read('vym.shp', quiet = TRUE) # read basin region
#basin4 <- st_cast(basin3, 'POLYGON')
basin_pr = grwat::st_buffer_geo(basin, 50000)  # buffer region by 50 km
# read reanalysis data
hdata_rean = grwat::join_interim(hdata, rean, basin_pr)
#grwat::map(rean$pts, hdata_rean$pts, basin, basin_pr) # plot spatial configuration
#grwat::process_gauge(wd, rean, bufsize = 50000)
meteo <- hdata_rean$df
meteo1 <- round(meteo[5:6],2)
met <- tail(meteo1,365)
hdt <- tail(hdata, 365)
hdt[hdt==2017] <- 2018
meteo1 <-rbind(meteo1,met)
hdata <- rbind(hdata,hdt)
#hdata$V4 <- gsub(',','.',hdata$V4)
write.table(hdata, 'in.txt', sep = " ",row.names = F, col.names=F, dec=".", quote=F)
write.table(meteo1, 'inmeteo.txt', sep = " ",row.names = F, col.names=F, dec=".")
Sys.setlocale(category='LC_ALL',locale = 'RU')
Sys.setlocale("LC_ALL","Russian_Russia")
report_gauge('C:/Users/1/Desktop/GrWat 3.0.M/files/Izh-Us', year = 1978, locale='RU')
load_and_update(1957)
load_and_update <- function(year) {
sep = grwat::read_separation('AllGrWat.txt')
grwat::plot_separation(sep, year)
}
load_and_update(1957)
wd <- "C:/Users/1/Desktop/GrWat 3.0.M/files/Izh-Us"
setwd(wd)
load_and_update(1957)
load_and_update(1957)
load_and_update(1978)
report_gauge('C:/Users/1/Desktop/GrWat 3.0.M/files/Izh-Us', year = 1978, locale='RU')
Sys.setlocale("LC_ALL","Russian_Russia")
report_gauge('C:/Users/1/Desktop/GrWat 3.0.M/files/Izh-Us', year = 1978, locale='RU')
load_and_update(1971)
load_and_update(1971)
load_and_update(1992)
load_and_update(1995)
load_and_update(1988)
report_gauge('C:/Users/1/Desktop/GrWat 3.0.M/files/Izh-Us', year = 1978, locale='RU')
Sys.setlocale("LC_ALL","Russian_Russia")
report_gauge('C:/Users/1/Desktop/GrWat 3.0.M/files/Izh-Us', year = 1978, locale='RU')
load_and_update(1968)
load_and_update(1971)
load_and_update(1968)
load_and_update(1968)
load_and_update(1968)
load_and_update(1968)
load_and_update(1968)
report_gauge('C:/Users/1/Desktop/GrWat 3.0.M/files/Izh-Us', year = 1978, locale='RU')
Sys.setlocale("LC_ALL","Russian_Russia")
report_gauge('C:/Users/1/Desktop/GrWat 3.0.M/files/Izh-Us', year = 1978, locale='RU')
report_gauge('C:/Users/1/Desktop/GrWat 3.0.M/files/Izh-Us', year = 1978, locale='RU', exclude = c(1957,1960,1962,1966,1969,1973,1975,1978,1986))
report_gauge('C:/Users/1/Desktop/GrWat 3.0.M/files/Izh-Us', year = 1978, locale='RU', exclude = c('1957','1960','1962','1966','1969','1973','1975','1978','1986'))
exc <- c('1957','1960','1962','1966','1969','1973','1975','1978','1986')
excu <- c(1957,1960,1962,1966,1969,1973,1975,1978,1986)
report_gauge('C:/Users/1/Desktop/GrWat 3.0.M/files/Izh-Us', year = 1978, locale='RU', exclude = excu)
excu <- 1957
report_gauge('C:/Users/1/Desktop/GrWat 3.0.M/files/Izh-Us', year = 1978, locale='RU', exclude = excu)
devtools::install_github("tsamsonov/grwat")
